<!DOCTYPE html>
<html lang="en"><head>
<meta name="robots" content="noindex"><meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Haproxy | Makina States</title><meta name="description" content="" />
<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="0001-01-01T00:00:00Z" />
<meta property="og:article:modified_time" content="0001-01-01 00:00:00 &#43;0000 UTC" /><meta property="og:article:tag" content="topics" /><meta property="og:article:tag" content="cloud" /><meta property="og:article:tag" content="haproxy" /><meta property="og:locale" content="en_US">
<meta property="og:title" content="Haproxy">
<meta property="og:image" content="/images/">
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="1500" />
<meta property="og:image:height" content="800" />
<meta property="og:description" content=""/>
<meta property="og:site_name" content="Makina States">
<link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/images/favicons/manifest.json">
<link rel="mask-icon" href="/images/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<link rel="shortcut icon" href="/images/favicons/favicon.ico">
<link rel="dns-prefetch" href="/">

<link rel="preconnect" href="/">
<link rel="canonical" href="/topics/haproxy/">


<link rel="prefetch" href="/topics/configure/">
<link rel="prerender" href="/topics/configure/">


<link rel="prefetch" href="/topics/install/">
<link rel="prerender" href="/topics/install/">

<link rel="stylesheet" href="/css/style.min.css">
  
</head>
<body>
	
<header id="site-header" class="site-header">
  <div class="hugo-meta" title="Hugo version 1">
    <a href="/" id="home-link">
      <img src="/images/MakinaCorpus_logo_vert_blanc.svg" alt="" />
    </a>
  </div>
  <div id="goto-source">
    <ul>
      <li>
        <a href="https://github.com/makinacorpus/makinastates/doc/hugo/content/" target="_blank">
          <i class="icon-github"></i> Source
        </a>
      </li>
    </ul>
  </div>
<div id="search-wrapper">
  <form action="" id="search-form" role="search">
    <label for="search" class="icon-search" id="search-button"></label>
    <input type="search" id="search-input" class="site-search"
        autocomplete="off"
        aria-label="Search the Makina States website..."
        placeholder="Search..." required />
    <input type="hidden" id="search-index" value="/site-index.json"/>
  </form>
</div>
<div id="search-results-wrapper">
  <div id="search-results-count"></div>
  <ul id="search-results">
    
    
  </ul>
</div>
</header>

  <div class="all-content-wrapper" id="all-content-wrapper">
		
<span id="page-top"></span>
<main class="main">
	<article class="content" id="haproxy">
		<header class="content-header">
<nav class="breadcrumb">
	<ul class="breadcrumbs">
		<li>
			<a class="crumb" href="/topics">
    		<span>Topics</span>
  		</a>
		</li>
	</ul>
</nav>

<h1 class="page-title topics" id="haproxy">Haproxy</h1>
<div class="content-header-links">
  
  <a target="_blank" class="tooltip right edit-link" data-tooltip="Edit this page on GitHub" href="https://github.com/makinacorpus/makinastates/doc/hugo/content/edit/master/content/topics/haproxy/index.md"><i class="icon-pencil" aria-hidden="true"></i></a></div>

	<ul class="tags">
		<li class="icon"><i class="icon-tags"></i></li>
		
		<li><a class="tag" href="/tags/topics">topics</a></li>
		
		<li><a class="tag" href="/tags/cloud">cloud</a></li>
		
		<li><a class="tag" href="/tags/haproxy">haproxy</a></li>
		
	</ul>


		</header>
		<div class="body-copy" data-section=topics>
		

<ul>
<li>the formula is in <a href="https://github.com/makinacorpus/makina-states/tree/v2/salt/makina-states/services/proxy/haproxy">salt/makina-states/services/proxy/haproxy</a></li>
</ul>

<h2 id="idea">Idea</h2>

<ul>
<li>We provide a facility to auto configure HTTP/HTTPS/REDIS/TCP backends
via the informations that we can discover in the pillar.</li>
<li>We want in an future iteration to add a discovery mecanism, maybe via
the mine or a discovery service like ETCD, zookeeper or consul.</li>
<li>The subkey for configuring proxies is the
<code>makina-states.haproxy_registrations</code> top dictionnary.</li>
</ul>

<h2 id="how-to-use">How to use</h2>

<ul>
<li>Extra HAPROXY configuration can be done by overriding the default
registry, <strong>mc_haproxy.settings</strong> via the
<strong>makina-states.services.proxy.haproxy</strong> prefix as usual.</li>
<li>Look available tweaks by calling <code>salt-call mc_haproxy.settins</code>.</li>
<li>After, add <code>makina-states.haproxy_registrations.*</code> entries to
add proxies.</li>

<li><p>ssl is used and reused from <strong>makina-states.localsettings.ssl</strong></p></li>

<li><p>First, activate haproxy and run the states a first time:</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span></span>bin/salt-call -lall state.sls makina-states.services.proxy.haproxy
</code></pre></div></li>
</ul>

<p>The most complete form to register a minion with haproxy is as follow</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span></span><span class="l l-Scalar l-Scalar-Plain">makina-states.haproxy_registrations.&lt;arbitrar id&gt;</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;local_ip of backend&gt;</span>
      <span class="l l-Scalar l-Scalar-Plain">frontends</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">&lt;frontend_port&gt;</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">to_port</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;dest_port&gt;,</span> <span class="c1"># optional, default to &lt;frontend_port&gt;</span>
            <span class="l l-Scalar l-Scalar-Plain">mode</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;http/https/tcp/tcps/redis&gt;</span>
      <span class="l l-Scalar l-Scalar-Plain">hosts</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">&lt;hosts_to_proxy_from&gt;</span><span class="p p-Indicator">]</span>      <span class="c1"># only useful on http(s) mode</span>
      <span class="l l-Scalar l-Scalar-Plain">regexes</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">&lt;hosts_to_proxy_from&gt;</span><span class="p p-Indicator">]</span>    <span class="c1"># only useful on http(s) mode</span>
      <span class="l l-Scalar l-Scalar-Plain">wildcards</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">&lt;hosts_to_proxy_from&gt;</span><span class="p p-Indicator">]</span>  <span class="c1"># only useful on http(s) mode</span>
</code></pre></div>

<p>This declaration will help on the haproxy minion side be to configure
appropriate haproxy <strong>frontends</strong> and <strong>backends</strong> objectds.</p>

<p>Notes:</p>

<ul>
<li>The <code>ip</code> is the local ip of the minion to proxy requests to</li>

<li><p>Frontends is a dictionnary of <strong>ports / metadata</strong> describing how
to configure haproxy to proxy to the minion:</p>

<ul>
<li><p><code>mode</code> is node the <strong>haproxy</strong> mode but a switch for us to
know how to proxy requests.</p>

<p>http/https</p>

<dl>
<dd>Proxy HTTP(s) requests, depending on an additionnal
<strong>regexes/wildcards/hosts</strong> knob
regexes

<dl>
<dd>list of regexeses to match in the form
[host_regex, PATH_URI_regex]
wildcards</dd>
<dd>list to strings which insensitive match if the
header <code>HOST</code> endswith
hosts</dd>
<dd>list to strings which insensitive match exactly
the header <code>HOST</code></dd>
</dl></dd>
<dt>tcp/tcps</dt>
<dd>configure a tcp based proxy, here
<strong>regexes/wildcards/hosts</strong> is useless. Be warn,
<strong>main_cert</strong> will be the served ssl certicated as no
SNI is possible
redis</dd>
<dd>configure a redis frontend (tcp based, so also no use
of <strong>regexes/wildcards/hosts</strong>) based on
<a href="https://support.pivotal.io/hc/en-us/articles/205309388-How-to-setup-HAProxy-and-Redis-Sentinel-for-automatic-failover-between-Redis-Master-and-Slave-servers">https://support.pivotal.io/hc/en-us/articles/205309388-How-to-setup-HAProxy-and-Redis-Sentinel-for-automatic-failover-between-Redis-Master-and-Slave-servers</a></dd>
</dl></li>

<li><p><code>to_port</code> can be used to override the port to proxy on the
minion side if it is not the same that on haproxy side</p></li>

<li><p>If <code>frontends</code> are not specificied, you need to specify
<strong>ip</strong> and one of <strong>hosts/regexes/wildcards</strong> as we default
to configure http &amp; https proxies.</p></li>

<li><p>If <code>frontends</code> are specified, you need to respecify all of
them, no default will be used in this case.</p></li>
</ul></li>

<li><p>80 &amp; 443 frontend port modes default to respectivly http &amp; https.</p></li>

<li><p>By default, if no frontends are specified, we setup http &amp; https
frontends. The SSL backend will try for forward first on 443, then
on 80.</p></li>

<li><p>Acls order for http mode is not predictible yet and will be
difficult. Prefer to use a sensible configuration for your case
rather than complicating the ACLS generation algorythm.</p></li>
</ul>

<h3 id="proxy">proxy</h3>

<p>If we have a minion haproxy1 and want to proxy to myapp2-1 on http &amp;
https when a request targeting &ldquo;www.super.com&rdquo; arrise. all we have to do
is to</p>

<p>in haproxy1 pillar:</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span></span><span class="l l-Scalar l-Scalar-Plain">makina-states.haproxy_registrations.haproxy1</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.3.14</span>
    <span class="l l-Scalar l-Scalar-Plain">hosts</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">www.super.com</span><span class="p p-Indicator">]</span>
</code></pre></div>

<h3 id="wildcard">wildcard</h3>

<p>Wilcards are also supported via the wildcards key</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span></span><span class="l l-Scalar l-Scalar-Plain">makina-states.haproxy_registrations.haproxy1</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.3.14</span>
    <span class="l l-Scalar l-Scalar-Plain">wildcards</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;*.www.super.com&#39;</span><span class="p p-Indicator">]</span>
</code></pre></div>

<h3 id="regex">regex</h3>

<p>regex is also supported via the regexes key</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span></span><span class="l l-Scalar l-Scalar-Plain">makina-states.haproxy_registrations.haproxy1</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.3.14</span>
    <span class="l l-Scalar l-Scalar-Plain">regexes</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;my.*supemyappost.com&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;^/api&#39;</span><span class="p p-Indicator">]</span>
</code></pre></div>

<p>if we want to proxy http to port &ldquo;81&rdquo; of myapp2-1 &amp; https to 444</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span></span><span class="l l-Scalar l-Scalar-Plain">makina-states.haproxy_registrations.haproxy1</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.3.14</span>
    <span class="l l-Scalar l-Scalar-Plain">hosts</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">www.super.com</span><span class="p p-Indicator">]</span>
    <span class="l l-Scalar l-Scalar-Plain">frontends</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">80</span><span class="p p-Indicator">:</span>  <span class="p p-Indicator">{</span><span class="nv">to_port</span><span class="p p-Indicator">:</span> <span class="nv">81</span><span class="p p-Indicator">}</span>
      <span class="l l-Scalar l-Scalar-Plain">443</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">to_port</span><span class="p p-Indicator">:</span> <span class="nv">444</span><span class="p p-Indicator">}</span>
</code></pre></div>

<h3 id="redis">redis</h3>

<p>We have a special redis mode to do custom health checks on a redis cluster</p>

<p>Short form if you use the default port on both ends:</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span></span><span class="l l-Scalar l-Scalar-Plain">makina-states.haproxy_registrations.haredis</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.3.14</span> <span class="c1"># localip of myapp2-1</span>
    <span class="l l-Scalar l-Scalar-Plain">frontends</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">6378</span><span class="p p-Indicator">:</span>  <span class="p p-Indicator">{}</span>
</code></pre></div>

<h4 id="long-forms">Long forms</h4>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span></span><span class="l l-Scalar l-Scalar-Plain">makina-states.haproxy_registrations.haredis</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.3.14</span>
    <span class="l l-Scalar l-Scalar-Plain">frontends</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">66378</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">to_port</span><span class="p p-Indicator">:</span> <span class="nv">666</span><span class="p p-Indicator">,</span> <span class="nv">mode</span><span class="p p-Indicator">:</span> <span class="nv">redis</span><span class="p p-Indicator">}</span>
      <span class="l l-Scalar l-Scalar-Plain">6378</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">mode</span><span class="p p-Indicator">:</span> <span class="nv">redis</span><span class="p p-Indicator">}</span>
</code></pre></div>

<h4 id="redis-auth-is-supported-this-way">Redis auth is supported this way</h4>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span></span><span class="l l-Scalar l-Scalar-Plain">makina-states.haproxy_registrations.haredis</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.3.14</span>
    <span class="l l-Scalar l-Scalar-Plain">frontends</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">6378</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">password</span><span class="p p-Indicator">:</span> <span class="s">&quot;foobar&quot;</span><span class="p p-Indicator">,</span> <span class="nv">mode</span><span class="p p-Indicator">:</span> <span class="nv">redis</span><span class="p p-Indicator">}</span>
</code></pre></div>

<h3 id="rabbitmq">rabbitmq</h3>

<p>We have a special rabbitmq mode to set sane options on backend for
rabbitmq Short form if you use the default port on both ends:</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span></span><span class="l l-Scalar l-Scalar-Plain">makina-states.haproxy_registrations.haredis</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.3.14</span>
    <span class="l l-Scalar l-Scalar-Plain">frontends</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">5672</span><span class="p p-Indicator">:</span>  <span class="p p-Indicator">{}</span>
</code></pre></div>

<p>Long forms</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span></span><span class="l l-Scalar l-Scalar-Plain">makina-states.haproxy_registrations.haredis</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ip</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10.0.3.14</span>
    <span class="l l-Scalar l-Scalar-Plain">frontends</span><span class="p p-Indicator">:</span>
      <span class="l l-Scalar l-Scalar-Plain">55672</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">to_port</span><span class="p p-Indicator">:</span> <span class="nv">333</span><span class="p p-Indicator">,</span> <span class="nv">mode</span><span class="p p-Indicator">:</span> <span class="nv">rabbitmq</span><span class="p p-Indicator">}</span>
      <span class="l l-Scalar l-Scalar-Plain">5672</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">mode</span><span class="p p-Indicator">:</span> <span class="nv">rabbitmq</span><span class="p p-Indicator">}</span>
</code></pre></div>

<h3 id="register-2-backends-for-one-same-frondend">Register 2 backends for one same frondend</h3>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span></span><span class="l l-Scalar l-Scalar-Plain">makina-states.haproxy_registrations.mc_cloud_http1&quot;</span><span class="p p-Indicator">:</span>
   <span class="p p-Indicator">-</span> <span class="s">&quot;ip&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;10.5.5.2&quot;</span>
     <span class="s">&quot;hosts&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;es2.devhost5-1.local&quot;</span><span class="p p-Indicator">]</span>
     <span class="s">&quot;frontends&quot;</span><span class="p p-Indicator">:</span>
       <span class="s">&quot;80&quot;</span><span class="p p-Indicator">:</span>
         <span class="s">&quot;mode&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;http&quot;</span>
<span class="l l-Scalar l-Scalar-Plain">makina-states.haproxy_registrations.mc_cloud_http2&quot;</span><span class="p p-Indicator">:</span>
   <span class="p p-Indicator">-</span> <span class="s">&quot;ip&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;10.5.5.666&quot;</span>
     <span class="s">&quot;hosts&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;es2.devhost5-2.local&quot;</span><span class="p p-Indicator">]</span>
     <span class="s">&quot;frontends&quot;</span><span class="p p-Indicator">:</span>
       <span class="s">&quot;80&quot;</span><span class="p p-Indicator">:</span>
         <span class="s">&quot;mode&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;http&quot;</span>
</code></pre></div>

		</div><div class="last-modified">Last Updated: 0001-01-01</div>
<footer id="content-footer">


<a href="/topics/configure/" class="cf-link prev-page">
			<i class="fa fa-chevron-left"></i>
		<div class="page-info">
			<span>Previous</span>
			<h5 class="topics">Configuration</h5>
		</div>
</a>


	<a href="/topics/install/" class="cf-link next-page">
		<div class="page-info">
			<span>Next</span>
			<h5 class="topics">Installation &amp; basic usage</h5>
		</div>
		<i class="fa fa-chevron-right"></i>
	</a>


</footer>
</article>
</main>

<aside id="toc" class="scroll-fixed-wrapper">
  <div class="scroll-fixed-wrapper-inner">
    <header class="toc-header">
      <a href="#haproxy">
        <h3 class="topics">Haproxy</h3>
      </a>
    </header>
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#idea">Idea</a></li>
<li><a href="#how-to-use">How to use</a>
<ul>
<li><a href="#proxy">proxy</a></li>
<li><a href="#wildcard">wildcard</a></li>
<li><a href="#regex">regex</a></li>
<li><a href="#redis">redis</a>
<ul>
<li><a href="#long-forms">Long forms</a></li>
<li><a href="#redis-auth-is-supported-this-way">Redis auth is supported this way</a></li>
</ul></li>
<li><a href="#rabbitmq">rabbitmq</a></li>
<li><a href="#register-2-backends-for-one-same-frondend">Register 2 backends for one same frondend</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
  <div class="fade"></div>
</aside>
<a href="#"
  id="toc-toggle"
  class="toc-open"
  title="Toggle Table of contents..."></a>


	</div>
<footer id="site-footer" class="site-footer">
<div class="footer-content">
  
    
  </div>
</footer>
<div class="navbutton__wrapper">
  <a class="trigger" href="#">
    <ul class="nav__trigger">
      <li class="nav__trigger-item nav__trigger-item--first"></li>
      <li class="nav__trigger-item nav__trigger-item--second"></li>
      <li class="nav__trigger-item nav__trigger-item--third"></li>
    </ul>
  </a>
</div>
<nav class="site-navigation navigation-open scroll-fixed-wrapper"
     id="site-navigation">
  <div class="site-navigation-inner scroll-fixed-wrapper-inner">
    
    
    


<ul class="menu menu-1">

  
  
  


<li class="menu-item menu-item-1">
  <a
    class="list-icon menu-item-link menu-item-link-1" href="/sphinx/api">API</a>
  
</li>

  
  
  

  
  
  


<li class="menu-item menu-item-1">
  <a
    class="list-icon menu-item-link menu-item-link-1" href="/">Home</a>
  
</li>

  
  
  

  
  
  


<li class="menu-item menu-item-1">
  <a
    class="list-icon menu-item-link menu-item-link-1 has-children" href="/topics/">Topics</a>
  
  
  


<ul class="menu menu-2">

  
  
  


<li class="menu-item menu-item-2">
  <a
    class="list-icon menu-item-link menu-item-link-2" href="/topics/ansible/">Ansible related configuration</a>
  
</li>

  
  
  

  
  
  


<li class="menu-item menu-item-2">
  <a
    class="list-icon menu-item-link menu-item-link-2" href="/topics/configure/">Configuration</a>
  
</li>

  
  
  

  
  
  


<li class="menu-item menu-item-2">
  <a
    class="list-icon menu-item-link menu-item-link-2 active open" href="/topics/haproxy/">Haproxy</a>
  
</li>

  
  
  

  
  
  


<li class="menu-item menu-item-2">
  <a
    class="list-icon menu-item-link menu-item-link-2" href="/topics/install/">Installation &amp; basic usage</a>
  
</li>

  
  
  

  
  
  


<li class="menu-item menu-item-2">
  <a
    class="list-icon menu-item-link menu-item-link-2" href="/topics/ssl/">Manage ssl certificates</a>
  
</li>

  
  
  

  
  
  


<li class="menu-item menu-item-2">
  <a
    class="list-icon menu-item-link menu-item-link-2" href="/topics/database/">Minions managment via database.sls</a>
  
</li>

  
  
  

</ul>

  
  
</li>

  
  
  

  
  
  


<li class="menu-item menu-item-1">
  <a
    class="list-icon menu-item-link menu-item-link-1 has-children" href="/cloud/">Cloud</a>
  
  
  


<ul class="menu menu-2">

  
  
  


<li class="menu-item menu-item-2">
  <a
    class="list-icon menu-item-link menu-item-link-2" href="/cloud/lxc/">LXC containers management</a>
  
</li>

  
  
  

</ul>

  
  
</li>

  
  
  

</ul>

    
  </div>
</nav>
<script src="/js/vendor/jquery-2.2.4.min.js"></script>
<script src="/js/vendor/lunr.min.js"></script>
<script src="/js/script.min.js"></script>



<script async defer src="https://buttons.github.io/buttons.js"></script>

<script>
(function() {
  if (window.location.hostname === "localhost") {
    console.log("Analytics not running on local dev.");
    return;
  } else {
    (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', '', 'auto');
    ga('send', 'pageview');
    ga('create', '', {
      'siteSpeedSampleRate': 100
    });
  }
})();
</script>

	
</body>
</html>
