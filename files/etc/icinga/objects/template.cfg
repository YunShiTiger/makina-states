# MANAGED VIA SALT -- DO NOT EDIT
{% set data = salt['mc_utils.json_load'](data) -%}

define {{data.type}} {

{%- for key, value in data.attrs.items() -%}
{%-     if not accumulator|default(False) or 'object.'+key not in accumulator %}
    {{key}}	{{value}}
{%-     endif -%}
{%- endfor %}

{%- if accumulator|default(False) %}
{%-     for key in accumulator -%}
{%- set key_splitted = key.split('.') -%}
{%-         if 'object' == key_splitted[0] -%}
{%-             if key_splitted[1] in data.attrs and '' != data.attrs[key_splitted[1]] %}
    {{key_splitted[1]}}	{{data.attrs[key_splitted[1]]}},{{accumulator[key]|join(',')}}
{%-             else %}
    {{key_splitted[1]}}	{{accumulator[key]|join(',')}}
{%-             endif -%}
{%-         endif -%}
{%-     endfor -%}
{%- endif %}

}
