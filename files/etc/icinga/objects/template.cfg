# MANAGED VIA SALT -- DO NOT EDIT
{% set data = salt['mc_utils.json_load'](data) %}
{%- set type = salt['mc_utils.json_load'](type) -%}
{%- set key_map = salt['mc_utils.json_load'](key_map) -%}
{%- set object = salt['mc_utils.json_load'](object) -%}

define {{type}} {
{%- if None != data.keys_mapping[type] %}
 {{data.keys_mapping[type]}}={{key_map}}
{%- endif %}
{%- for key in accumulator %}
{%-     if key.startswith(type+'-'+key_map+'-attribute-') -%}
{%-         set directive = key|replace(type+'-'+key_map+'-attribute-','') -%}
{%-         if directive in data.accumulated_values[type] %}
 {{directive}}={{accumulator[key]|join(',')}}
{%- else %}
 {{directive}}={{accumulator[key][0]}}
{%-          endif %}
{%-     endif -%}
{%  endfor %}
}
