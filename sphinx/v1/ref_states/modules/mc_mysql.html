

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mc_mysql / mysql functions &mdash; Makina States 1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Makina States 1.0 documentation" href="../../../index.html"/>
        <link rel="up" title="Execution modules" href="index.html"/>
        <link rel="next" title="mc_nagvis / nagvis functions" href="mc_nagvis.html"/>
        <link rel="prev" title="mc_mumble / mumble registry" href="mc_mumble.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../../index.html" class="fa fa-home"> Makina States</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Makina-states V1 documentation (OBSOLETE)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#usage">Usage</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#reference">Reference</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Makina States</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Makina-states V1 documentation (OBSOLETE)</a> &raquo;</li>
      
          <li><a href="../../ref_index.html">Reference</a> &raquo;</li>
      
          <li><a href="../index.html">Custom states modules</a> &raquo;</li>
      
          <li><a href="index.html">Execution modules</a> &raquo;</li>
      
    <li>mc_mysql / mysql functions</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../../_sources/v1/ref_states/modules/mc_mysql.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <span class="target" id="module-mc_states.modules.mc_mysql"></span><div class="section" id="mc-mysql-mysql-functions">
<span id="module-mc-mysql"></span><h1>mc_mysql / mysql functions<a class="headerlink" href="#mc-mysql-mysql-functions" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="mc_states.modules.mc_mysql.settings">
<code class="descclassname">mc_states.modules.mc_mysql.</code><code class="descname">settings</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#mc_states.modules.mc_mysql.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>mysql settings</p>
<dl class="docutils">
<dt>isPercona</dt>
<dd>TDB</dd>
<dt>isOracle</dt>
<dd>TDB</dd>
<dt>isMariaDB</dt>
<dd>TDB</dd>
<dt>number_of_table_indicator</dt>
<dd>number of tables contained in the database</dd>
<dt>port</dt>
<dd>TBD</dd>
<dt>user</dt>
<dd>TBD</dd>
<dt>group</dt>
<dd>TBD</dd>
<dt>root_passwd</dt>
<dd>autogenerated root password (can be overriden before db install)</dd>
<dt>sharedir</dt>
<dd>TBD</dd>
<dt>users</dt>
<dd>TBD</dd>
<dt>datadir</dt>
<dd>TBD</dd>
<dt>tmpdir</dt>
<dd>TBD</dd>
<dt>etcdir</dt>
<dd>TBD</dd>
<dt>logdir</dt>
<dd>TBD</dd>
<dt>basedir</dt>
<dd>TBD</dd>
<dt>sockdir</dt>
<dd>TBD</dd>
<dt>conn_host / conn_user / conn_pass</dt>
<dd>autogenerated
Connection settings, user/pass/host used by salt
to manage users, grants and database creations</dd>
<dt>character_set</dt>
<dd>default character set on CREATE DATABASE (use utf8&#8217; not &#8216;utf-8&#8217;)</dd>
<dt>collate</dt>
<dd>default collate on CREATE DATABASE</dd>
<dt>noDNS</dt>
<dd>Avoid name resolution on connections checks, must-have.
This is the skip-name-resolv option</dd>
<dt>memory_usage_percent / available_mem</dt>
<dd>the macro will compute magiccaly the settings to
fit this percentage of full memory on the host. So by default it&#8217;s 50%
of all RAM on a dev envirronment and 85% for a production one where
the MySQl server should be alone on a server. Then all others settings
parameters in the &#8216;tunning&#8217; key could be set to False to let the macro
fill the gaps. If you set somtehing other than False for one of theses
settings it will be used instead of the value computed by the macro,
check the macro for details and comments on all theses parameters.
Note the &#8220;_M&#8221; means Mo, so for 2Go of innodb_buffer_pool_size use
2024, that is 2024Mo.
Tweak the &#8216;number_of_table_indicator&#8217; to adjust some settings
automatically from that, for example several Drupal instances
using a lot of fields
could manage several hundreds of tables. &lt;=== IMPORTANT</dd>
<dt>myCnf</dt>
<dd>MySQL default custom configuration (services.db.mysql)
To override the default makina-states configuration file,
Use the &#8216;makina-states.services.mysql.cnf pillar/grain</dd>
</dl>
<p>If you want to fine tune the mysql server, read the method
to know non documented parameters to override, the code is well
documented but spared from configuration from end users.</p>
</dd></dl>

</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mc_nagvis.html" class="btn btn-neutral float-right" title="mc_nagvis / nagvis functions">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mc_mumble.html" class="btn btn-neutral" title="mc_mumble / mumble registry"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014 -&gt; 2017, Mathieu Le Marec Pasquet, Régis Leroy &amp; Makina Corpus folks.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>