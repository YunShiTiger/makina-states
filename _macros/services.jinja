{#-
# Services related exported variables
# see makina-states.services
#}

{%- import "makina-states/_macros/nodetypes.jinja" as nodetypes with context %}
{%- import "makina-states/_macros/controllers.jinja" as controllers with context %}
{#-
# expose imported macros
#}
{%- set nodetypes = nodetypes %}
{%- set localsettings = nodetypes.localsettings %}
{%- set funcs = localsettings.funcs %}
{%- set saltmac = controllers.saltmac %}
{%- set locs = nodetypes.localsettings.locations %}

{#- see _modules/mc_services.py for exposed settings #}
{%- set settings = salt['mc_services.settings']() %}
{%- set metadata = salt['mc_services.metadata']() %}
{%- set registry = salt['mc_services.registry']() %}

{# named/bind Settings #}
{%- set bindSettings = settings.bindSettings  %}

{# psad Settings #}
{%- set psadSettings = settings.psadSettings  %}

{# Fail2ban Settings #}
{%- set fail2banSettings = settings.fail2banSettings  %}

{# SSL Settings #}
{%- set SSLSettings = settings.SSLSettings  %}

{# LDAP integration #}
{%- set ldapVariables = settings.ldapVariables  %}
{%- set ldapEn = settings.ldapEn  %}

{#- init systems flags #}
{%- set upstart = settings.upstart  %}

{# salt cloud  #}
{% set cloudSettings = salt['mc_saltcloud.settings']() %}

{#- init systems flags #}
{%- set tomcatSettings = settings.tomcatSettings  %}

{#- ntp #}
{%- set ntpEn = settings.ntpEn  %}

{#- Apache #}
{%- set apacheSettings = settings.apacheSettings  %}

{#- Circus #}
{%- set circusSettings = settings.circusSettings %}

{#- SNMPD #}
{%- set snmpdSettings = settings.snmpdSettings %}

{#- Etherpad #}
{%- set etherpadSettings = settings.etherpadSettings %}

{#- Postfix #}
{%- set postfixSettings = settings.postfixSettings %}

{#- Nginx #}
{%- set nginxSettings = settings.nginxSettings  %}

{#- PHP #}
{%- set phpSettings = settings.phpSettings  %}

{#-Pureftpd #}
{%- set pureftpdDefaultSettings = settings.pureftpdDefaultSettings  %}
{%- set pureftpdSettings = settings.pureftpdSettings  %}

{# PostGRESQL #}
{%- set pgDbs = settings.pgDbs  %}
{%- set postgresqlUsers = settings.postgresqlUsers  %}
{%- set defaultPgVersion = settings.defaultPgVersion %}
{%- set pgSettings = settings.pgSettings%}
{%- set pgVers = settings.pgVers  %}
{%- set postgisVers = settings.postgisVers  %}
{%- set postgisDbName = settings.postgisDbName  %}
{%- set postgresqlUser = settings.postgresqlUser  %}

{# shorewall #}
{%- set shw_enabled = settings.shorewall.shw_enabled  %}
{%- set shwIfformat = settings.shorewall.shwIfformat  %}
{%- set shwPolicies = settings.shorewall.shwPolicies  %}
{%- set shwZones = settings.shorewall.shwZones  %}
{%- set shwInterfaces = settings.shorewall.shwInterfaces  %}
{%- set shwParams = settings.shorewall.shwParams  %}
{%- set shwMasqs = settings.shorewall.shwMasqs  %}
{%- set shwRules = settings.shorewall.shwRules  %}
{%- set shwDefaultState = settings.shorewall.shwDefaultState  %}
{%- set shwData = settings.shorewall %}
{%- set shorewall = settings.shorewall %}

{#- LXC Settings #}
{%- set lxcSettings = settings.lxcSettings %}

{#- MySQL Fine Settings #}
{%- set mysqlSettings = settings.mysqlSettings  %}
{%- set myDisableAutoConf = settings.myDisableAutoConf  %}
{%- set myCnf = settings.myCnf %}

{#- DB_SMART_BACKUP #}
{%- set dbsmartbackupSettings = settings.dbsmartbackupSettings  %}

{#- RDIFF_BACKUP #}
{%- set rdiffbackupSettings = settings.rdiffbackupSettings  %}

{#- SSHD Settings #}
{%- set sshServerSettings = settings.sshServerSettings  %}

{#- SSH #}
{%- set sshClientSettings = settings.sshClientSettings  %}
# vim:set nofoldenable:
